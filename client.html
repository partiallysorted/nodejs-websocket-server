<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nodejs-websocket-server Client</title>
</head>
<body>

    <h1>WebSocket Client</h1>
    <p><button onClick="connectToServer()">Connect to Server</button></p>
    <p><button onClick="sendMessage()">Send Message</button></p>
    <p><button onClick="closeConnection()">Close Connection</button></p>

<script>
var ws;

const connectToServer = () => {
    ws = new WebSocket("ws://localhost:8080/ws");

    ws.onopen = () => {
        console.log(`Connection to ${url} has been established`);
    };

    ws.onmessage = (msg) => {
        console.log(msg.data);
    };

    ws.onerror = (err) => {
        console.log(`WebSocket error: ${err}`);
    };
}

const sendMessage = () => {
    ws.send('Hows it going amigo!');
}

const closeConnection = () => {
    ws.close();
}
</script>

</body>
</html>
